{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user/user.service\";\nimport * as i2 from \"src/app/services/sneaker/sneaker.service\";\nimport * as i3 from \"src/app/services/inventory.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\n\nconst _c0 = function (a1) {\n  return [\"/sneakers\", a1];\n};\n\nfunction InventoryComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵelementStart(2, \"div\", 17);\n    i0.ɵɵelementStart(3, \"div\", 18);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"hr\");\n    i0.ɵɵelementStart(7, \"div\", 20);\n    i0.ɵɵelementStart(8, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function InventoryComponent_div_38_Template_button_click_8_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.currentItem = ctx_r2.getValueToDelete($event);\n    });\n    i0.ɵɵtext(9, \" Supprim\\u00E9 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 22);\n    i0.ɵɵtext(11, \" D\\u00E9tails \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const sneakerItem_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", sneakerItem_r1.label, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", sneakerItem_r1.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", sneakerItem_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, sneakerItem_r1.id));\n  }\n}\n\nexport let InventoryComponent = /*#__PURE__*/(() => {\n  class InventoryComponent {\n    constructor(userService, sneakerService, inventorySevice) {\n      this.userService = userService;\n      this.sneakerService = sneakerService;\n      this.inventorySevice = inventorySevice;\n      this.sneakerList = [];\n      this.arrayOfInventory = [];\n      this.arrayOfPrice = [];\n      this.averageOfSneaker = 0;\n      this.inventoryArrayURI = [];\n      this.currentItem = '';\n    }\n\n    ngOnInit() {\n      this.getUserInfosInventory();\n    }\n\n    getUserInfosInventory() {\n      const idUser = this.userService.decodeToken().id;\n      return this.userService.getUserInventory(idUser).subscribe({\n        next: v => {\n          Object.entries(v).forEach(([key, value]) => {\n            this.arrayOfInventory.push(parseInt(value.idSneaker));\n            this.inventoryArrayURI.push(value);\n          });\n          this.arrayOfInventory.forEach(val => {\n            return this.sneakerService.get(val).subscribe({\n              next: sneakerItem => {\n                for (const value of Object.values(sneakerItem)) {\n                  this.sneakerList.push(value);\n                  this.arrayOfPrice.push(parseInt(value.price));\n                }\n\n                this.averageOfSneaker = Math.floor(this.arrayOfPrice.reduce((a, b) => a + b, 0) / this.arrayOfPrice.length);\n              },\n              error: e => console.error(e),\n              complete: () => console.info('complete')\n            });\n          });\n        },\n        error: e => console.error(e),\n        complete: () => console.info('complete')\n      });\n    }\n\n    getValueToDelete(event) {\n      const valueClickedOn = event.target.value;\n      Object.entries(this.inventoryArrayURI).forEach(([key, value]) => {\n        console.log(value);\n        const regex = /(\\d+)/g; // console.log(key , value[\"@id\"])\n\n        const getFavId = value[\"@id\"];\n        const result = getFavId.match(regex);\n\n        if (parseInt(value.idSneaker) === parseInt(valueClickedOn)) {\n          console.log(value.idSneaker, valueClickedOn);\n          console.log(result[0]);\n          this.inventorySevice.delete(parseInt(result[0])).subscribe({});\n        }\n      });\n      return event.target.value;\n    }\n\n  }\n\n  InventoryComponent.ɵfac = function InventoryComponent_Factory(t) {\n    return new (t || InventoryComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.SneakerService), i0.ɵɵdirectiveInject(i3.InventoryService));\n  };\n\n  InventoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InventoryComponent,\n    selectors: [[\"app-inventory-user-dashboard\"]],\n    decls: 39,\n    vars: 3,\n    consts: [[1, \"flex\", \"flex-col\", \"flex-wrap\", \"gap-5\"], [1, \"shadow\", \"sm:rounded-md\", \"sm:overflow-hidden\", \"p-5\"], [1, \"text-lg\", \"leading-6\", \"font-medium\", \"text-gray-900\"], [1, \"mt-1\", \"text-sm\", \"text-gray-500\"], [1, \"flex\", \"flex-row\", \"flex-wrap\", \"justify-center\", \"sm:justify-start\", \"gap-5\", \"pt-5\"], [1, \"max-w-sm\", \"rounded\", \"overflow-hidden\", \"bg-gray-100\"], [1, \"px-6\", \"py-4\", \"min-w-max\"], [1, \"text-xl\", \"mb-2\", \"text-gray-900\"], [1, \"before:block\", \"before:absolute\", \"before:-inset-1\", \"before:-skew-y-3\", \"before:bg-orange-500\", \"relative\", \"inline-block\", \"left-1/3\"], [1, \"relative\", \"text-white\"], [1, \"before:block\", \"before:absolute\", \"before:-inset-1\", \"before:-skew-y-3\", \"before:bg-orange-500\", \"relative\", \"inline-block\", \"left-1/2\"], [1, \"shadow\", \"sm:rounded-md\", \"sm:overflow-hidden\"], [1, \"bg-white\", \"py-6\", \"px-4\", \"space-y-6\", \"sm:p-6\"], [1, \"flex\", \"flex-row\", \"flex-wrap\", \"justify-center\", \"sm:justify-between\", \"gap-5\"], [\"class\", \"\", 4, \"ngFor\", \"ngForOf\"], [1, \"\"], [1, \"rounded\", \"overflow-hidden\", \"bg-gray-100\", \"max-w-fit\"], [1, \"px-6\", \"py-4\"], [1, \"text-base\", \"mb-2\", \"text-gray-900\", \"max-w-fit\"], [\"alt\", \"Images of different sneakers\", 1, \"w-72\", \"object-center\", \"object-cover\", \"group-hover:opacity-75\", \"rounded\", 3, \"src\"], [1, \"px-6\", \"py-4\", \"flex\", \"flex-row\", \"justify-between\"], [\"type\", \"submit\", 1, \"ml-3\", \"inline-flex\", \"justify-center\", \"py-2\", \"px-4\", \"border\", \"border-transparent\", \"shadow-sm\", \"text-sm\", \"font-medium\", \"rounded-md\", \"text-white\", \"bg-orange-500\", \"hover:bg-orange-600\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", 3, \"value\", \"click\"], [\"type\", \"submit\", 1, \"ml-3\", \"inline-flex\", \"justify-center\", \"py-2\", \"px-4\", \"border\", \"border-transparent\", \"shadow-sm\", \"text-sm\", \"font-medium\", \"rounded-md\", \"text-white\", \"bg-orange-500\", \"hover:bg-orange-600\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", 3, \"routerLink\"]],\n    template: function InventoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h3\", 2);\n        i0.ɵɵtext(3, \" Vos statistiques \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"span\");\n        i0.ɵɵelementStart(5, \"p\", 3);\n        i0.ɵɵtext(6, \" Vous verrez ici vos statistiques. \");\n        i0.ɵɵelement(7, \"br\");\n        i0.ɵɵtext(8, \" Avec le nombres de sneaker que vous possedez et la moyenne en \\u20AC d'une paire de sneaker. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"hr\");\n        i0.ɵɵelementStart(10, \"div\", 4);\n        i0.ɵɵelementStart(11, \"div\", 5);\n        i0.ɵɵelementStart(12, \"div\", 6);\n        i0.ɵɵelementStart(13, \"div\", 7);\n        i0.ɵɵtext(14, \"Moyenne d'une paire\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"span\", 8);\n        i0.ɵɵelementStart(16, \"span\", 9);\n        i0.ɵɵelementStart(17, \"p\");\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 5);\n        i0.ɵɵelementStart(20, \"div\", 6);\n        i0.ɵɵelementStart(21, \"div\", 7);\n        i0.ɵɵtext(22, \"Nombre de sneaker\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"span\", 10);\n        i0.ɵɵelementStart(24, \"span\", 9);\n        i0.ɵɵelementStart(25, \"p\");\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 11);\n        i0.ɵɵelementStart(28, \"div\", 12);\n        i0.ɵɵelementStart(29, \"h3\", 2);\n        i0.ɵɵtext(30, \" Votre collection \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"span\");\n        i0.ɵɵelementStart(32, \"p\", 3);\n        i0.ɵɵtext(33, \" Vous pourrez gerer votre inventaire ici. \");\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵtext(35, \" Supprim\\u00E9 ou ajouter des paires dans votre collection. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"hr\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 13);\n        i0.ɵɵtemplate(38, InventoryComponent_div_38_Template, 12, 6, \"div\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(18);\n        i0.ɵɵtextInterpolate1(\"\", ctx.averageOfSneaker || \"0\", \"\\u20AC\");\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\" \", ctx.sneakerList.length || \"0\", \" \");\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sneakerList);\n      }\n    },\n    directives: [i4.NgForOf, i5.RouterLink],\n    styles: [\"\"]\n  });\n  return InventoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}