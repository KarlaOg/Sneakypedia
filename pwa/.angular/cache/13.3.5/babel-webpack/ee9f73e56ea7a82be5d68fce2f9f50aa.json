{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/user/user.service\";\nimport * as i4 from \"src/app/services/error.service\";\nimport * as i5 from \"@angular/common\";\n\nfunction RegisterComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorService.handleError, \" \");\n  }\n}\n\nfunction RegisterComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 27);\n  }\n}\n\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(fb, router, user, errorService) {\n      this.fb = fb;\n      this.router = router;\n      this.user = user;\n      this.errorService = errorService;\n      this.success = \"\";\n      this.form = this.fb.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(8)]],\n        firstname: ['', Validators.required],\n        lastname: ['', Validators.required]\n      });\n    }\n\n    ngOnInit() {\n      console.log(this.errorService);\n    }\n\n    register() {\n      this.errorService.handleError;\n      const val = this.form.value;\n\n      if (val.email && val.password && val.firstname && val.lastname) {\n        this.user.register(val).subscribe({\n          next: () => this.success = \"Inscription réussie. Veuillez vous connecter.\",\n          error: e => this.error = e,\n          complete: () => this.router.navigateByUrl('/connexion')\n        });\n      }\n    }\n\n    onHandleSuccess() {\n      this.success = '';\n    }\n\n  }\n\n  RegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.ErrorService));\n  };\n\n  RegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 45,\n    vars: 3,\n    consts: [[1, \"min-h-full\", \"flex\", \"items-center\", \"justify-center\", \"py-12\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"max-w-md\", \"w-full\", \"space-y-8\"], [1, \"mt-6\", \"text-center\", \"text-3xl\", \"font-extrabold\", \"text-gray-900\"], [1, \"text-orange-600\"], [1, \"mt-2\", \"text-center\", \"text-sm\", \"text-gray-600\"], [\"routerLink\", \"/connexion\", 1, \"font-medium\", \"sviolet\", \"hover:text-orange-400\"], [\"class\", \"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"mt-8\", \"space-y-6\", 3, \"formGroup\", \"ngSubmit\"], [\"registerForm\", \"ngForm\"], [\"type\", \"hidden\", \"name\", \"remember\", \"value\", \"true\"], [1, \"rounded-md\", \"shadow-sm\", \"-space-y-px\"], [\"for\", \"firstname\", 1, \"sr-only\"], [\"formControlName\", \"firstname\", \"id\", \"firstname\", \"name\", \"fistname\", \"type\", \"text\", \"autocomplete\", \"firstname\", \"required\", \"\", \"placeholder\", \"Nom\", 1, \"form-control\", \"appearance-none\", \"rounded-none\", \"relative\", \"block\", \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"placeholder-gray-500\", \"text-gray-900\", \"rounded-t-md\", \"focus:outline-none\", \"focus:ring-black\", \"focus:border-black\", \"focus:z-10\", \"sm:text-sm\"], [\"for\", \"lastname\", 1, \"sr-only\"], [\"formControlName\", \"lastname\", \"id\", \"lastname\", \"name\", \"lastname\", \"type\", \"text\", \"autocomplete\", \"lastnam\", \"required\", \"\", \"placeholder\", \"Pr\\u00E9nom\", 1, \"appearance-none\", \"rounded-none\", \"relative\", \"block\", \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"placeholder-gray-500\", \"text-gray-900\", \"focus:outline-none\", \"focus:ring-black\", \"focus:border-black\", \"focus:z-10\", \"sm:text-sm\"], [\"for\", \"email-address\", 1, \"sr-only\"], [\"formControlName\", \"email\", \"id\", \"email-address\", \"name\", \"email\", \"type\", \"email\", \"autocomplete\", \"email\", \"required\", \"\", \"placeholder\", \"Adresse Mail\", 1, \"appearance-none\", \"rounded-none\", \"relative\", \"block\", \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"placeholder-gray-500\", \"text-gray-900\", \"focus:outline-none\", \"focus:ring-black\", \"focus:border-black\", \"focus:z-10\", \"sm:text-sm\"], [\"for\", \"password\", 1, \"sr-only\"], [\"formControlName\", \"password\", \"id\", \"password\", \"name\", \"password\", \"type\", \"password\", \"autocomplete\", \"current-password\", \"required\", \"\", \"placeholder\", \"Mot de passe\", 1, \"appearance-none\", \"rounded-none\", \"relative\", \"block\", \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"placeholder-gray-500\", \"text-gray-900\", \"rounded-b-md\", \"focus:outline-none\", \"focus:ring-black\", \"focus:border-black\", \"focus:z-10\", \"sm:text-sm\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"flex\", \"items-center\"], [1, \"text-sm\"], [\"href\", \"#\", 1, \"font-medium\", \"text-black\", \"hover:text-orange-400\", \"underline\", \"underline-offset-4\"], [\"type\", \"submit\", 1, \"group\", \"relative\", \"w-full\", \"flex\", \"justify-center\", \"py-2\", \"px-4\", \"border\", \"border-black\", \"text-sm\", \"font-medium\", \"rounded-md\", \"text-black\", \"hover:bg-orange-400\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-offset-2\", \"focus:ring-orange-400\"], [1, \"absolute\", \"left-0\", \"inset-y-0\", \"flex\", \"items-center\", \"pl-3\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 20 20\", \"fill\", \"currentColor\", \"aria-hidden\", \"true\", 1, \"h-5\", \"w-5\", \"text-black\", \"group-hover:text-black\"], [\"fill-rule\", \"evenodd\", \"d\", \"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\", \"clip-rule\", \"evenodd\"], [\"role\", \"alert\", 1, \"p-4\", \"mb-4\", \"text-sm\", \"text-red-700\", \"bg-red-100\", \"rounded-lg\", \"dark:bg-red-200\", \"dark:text-red-800\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\");\n        i0.ɵɵelementStart(3, \"h2\", 2);\n        i0.ɵɵtext(4, \"Inscrivez-vous sur \");\n        i0.ɵɵelementStart(5, \"p\", 3);\n        i0.ɵɵtext(6, \"SNEAKYPEDIA\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\", 4);\n        i0.ɵɵtext(8, \" O\\u00F9 \");\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelementStart(10, \"a\", 5);\n        i0.ɵɵtext(11, \" Connectez-vous \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, RegisterComponent_div_12_Template, 2, 1, \"div\", 6);\n        i0.ɵɵtemplate(13, RegisterComponent_div_13_Template, 1, 0, \"div\", 6);\n        i0.ɵɵelementStart(14, \"form\", 7, 8);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_14_listener() {\n          return ctx.register();\n        });\n        i0.ɵɵelement(16, \"input\", 9);\n        i0.ɵɵelementStart(17, \"div\", 10);\n        i0.ɵɵelementStart(18, \"div\");\n        i0.ɵɵelementStart(19, \"label\", 11);\n        i0.ɵɵtext(20, \"Nom:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\");\n        i0.ɵɵelementStart(23, \"label\", 13);\n        i0.ɵɵtext(24, \"Pr\\u00E9nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\");\n        i0.ɵɵelementStart(27, \"label\", 15);\n        i0.ɵɵtext(28, \"Adresse Mail\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"input\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\");\n        i0.ɵɵelementStart(31, \"label\", 17);\n        i0.ɵɵtext(32, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"input\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 19);\n        i0.ɵɵelement(35, \"div\", 20);\n        i0.ɵɵelementStart(36, \"div\", 21);\n        i0.ɵɵelementStart(37, \"a\", 22);\n        i0.ɵɵtext(38, \" Mot de passe oubli\\u00E9\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\");\n        i0.ɵɵelementStart(40, \"button\", 23);\n        i0.ɵɵelementStart(41, \"span\", 24);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(42, \"svg\", 25);\n        i0.ɵɵelement(43, \"path\", 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(44, \" Sign up \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.success);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n      }\n    },\n    directives: [i2.RouterLinkWithHref, i5.NgIf, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator],\n    styles: [\"\"]\n  });\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}